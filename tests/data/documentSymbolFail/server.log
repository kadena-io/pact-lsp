Content-Length: 579

{"result":{"capabilities":{"textDocumentSync":{"openClose":true,"change":2,"willSave":false,"willSaveWaitUntil":false,"save":{"includeText":false}},"hoverProvider":true,"completionProvider":{"resolveProvider":true,"triggerCharacters":["."]},"definitionProvider":true,"referencesProvider":true,"documentHighlightProvider":true,"documentSymbolProvider":true,"codeActionProvider":true,"documentFormattingProvider":true,"documentRangeFormattingProvider":true,"renameProvider":true,"executeCommandProvider":{"commands":["applyrefact:applyOne","hare:demote"]}}},"jsonrpc":"2.0","id":9}Content-Length: 209

{"jsonrpc":"2.0","id":0,"method":"client/registerCapability","params":{"registrations":[{"registerOptions":{"documentSelector":{"language":"haskell"}},"method":"workspace/executeCommand","id":"hare:demote"}]}}Content-Length: 208

{"jsonrpc":"2.0","method":"window/logMessage","params":{"type":4,"message":"Using ghc version: Version 0.2.0.0, Git revision 73fc39b23129436626232230e0f79a391120db5a (dirty) (1350 commits) x86_64 ghc-8.4.2"}}Content-Length: 145

{"jsonrpc":"2.0","method":"window/logMessage","params":{"type":4,"message":"Using hoogle db at: /Users/luke/.hoogle/default-haskell-5.0.17.hoo"}}Content-Length: 156

{"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","diagnostics":[]}}Content-Length: 156

{"jsonrpc":"2.0","method":"textDocument/publishDiagnostics","params":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","diagnostics":[]}}Content-Length: 3454

{"result":[{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":4,"character":17},"end":{"line":4,"character":54}}},"kind":3,"containerName":"LSP","name":"Language.Haskell.LSP.TH.DataTypesJSON"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":5,"character":17},"end":{"line":5,"character":59}}},"kind":3,"containerName":"LSP","name":"Language.Haskell.LSP.TH.ClientCapabilities"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":6,"character":17},"end":{"line":6,"character":27}}},"kind":3,"containerName":"Client","name":"LSP.Client"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":7,"character":7},"end":{"line":7,"character":17}}},"kind":2,"name":"Data.Proxy"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":8,"character":17},"end":{"line":8,"character":29}}},"kind":3,"containerName":"T","name":"Data.Text.IO"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":9,"character":7},"end":{"line":9,"character":25}}},"kind":2,"name":"Control.Concurrent"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":10,"character":7},"end":{"line":10,"character":21}}},"kind":2,"name":"System.Process"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":11,"character":7},"end":{"line":11,"character":19}}},"kind":2,"name":"Control.Lens"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":12,"character":7},"end":{"line":12,"character":16}}},"kind":2,"name":"System.IO"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":13,"character":7},"end":{"line":13,"character":18}}},"kind":2,"name":"System.Exit"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":14,"character":7},"end":{"line":14,"character":25}}},"kind":2,"name":"System.Environment"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":15,"character":7},"end":{"line":15,"character":23}}},"kind":2,"name":"System.Directory"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":16,"character":7},"end":{"line":16,"character":20}}},"kind":2,"name":"Control.Monad"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":18,"character":17},"end":{"line":18,"character":23}}},"kind":2,"name":"Compat"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":21,"character":0},"end":{"line":21,"character":4}}},"kind":12,"name":"main"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":109,"character":0},"end":{"line":109,"character":25}}},"kind":12,"name":"testRequestMessageHandler"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":122,"character":0},"end":{"line":122,"character":30}}},"kind":12,"name":"testNotificationMessageHandler"}],"jsonrpc":"2.0","id":25}Content-Length: 3454

{"result":[{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":4,"character":17},"end":{"line":4,"character":54}}},"kind":3,"containerName":"LSP","name":"Language.Haskell.LSP.TH.DataTypesJSON"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":5,"character":17},"end":{"line":5,"character":59}}},"kind":3,"containerName":"LSP","name":"Language.Haskell.LSP.TH.ClientCapabilities"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":6,"character":17},"end":{"line":6,"character":27}}},"kind":3,"containerName":"Client","name":"LSP.Client"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":7,"character":7},"end":{"line":7,"character":17}}},"kind":2,"name":"Data.Proxy"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":8,"character":17},"end":{"line":8,"character":29}}},"kind":3,"containerName":"T","name":"Data.Text.IO"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":9,"character":7},"end":{"line":9,"character":25}}},"kind":2,"name":"Control.Concurrent"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":10,"character":7},"end":{"line":10,"character":21}}},"kind":2,"name":"System.Process"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":11,"character":7},"end":{"line":11,"character":19}}},"kind":2,"name":"Control.Lens"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":12,"character":7},"end":{"line":12,"character":16}}},"kind":2,"name":"System.IO"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":13,"character":7},"end":{"line":13,"character":18}}},"kind":2,"name":"System.Exit"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":14,"character":7},"end":{"line":14,"character":25}}},"kind":2,"name":"System.Environment"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":15,"character":7},"end":{"line":15,"character":23}}},"kind":2,"name":"System.Directory"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":16,"character":7},"end":{"line":16,"character":20}}},"kind":2,"name":"Control.Monad"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":18,"character":17},"end":{"line":18,"character":23}}},"kind":2,"name":"Compat"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":21,"character":0},"end":{"line":21,"character":4}}},"kind":12,"name":"main"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":109,"character":0},"end":{"line":109,"character":25}}},"kind":12,"name":"testRequestMessageHandler"},{"location":{"uri":"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs","range":{"start":{"line":122,"character":0},"end":{"line":122,"character":30}}},"kind":12,"name":"testNotificationMessageHandler"}],"jsonrpc":"2.0","id":30}Content-Length: 620

{"result":{"changes":{"file:///Users/luke/Repos/haskell-lsp-client/example/Main.hs":[{"range":{"start":{"line":36,"character":0},"end":{"line":36,"character":31}},"newText":"  file <- canonicalizePath pathh"},{"range":{"start":{"line":33,"character":0},"end":{"line":33,"character":54}},"newText":"    hPutStrLn stderr (\"File does not exist: \" ++ pathh)"},{"range":{"start":{"line":31,"character":0},"end":{"line":31,"character":30}},"newText":"  exists <- doesFileExist pathh"},{"range":{"start":{"line":29,"character":0},"end":{"line":29,"character":19}},"newText":"  let [pathh] = args"}]}},"jsonrpc":"2.0","id":37}